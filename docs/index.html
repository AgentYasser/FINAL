<script>
async function callAgent() {
    const input = document.getElementById('user-input').value;

    const response = await fetch('YOUR_N8N_WEBHOOK_URL', { // Replace with your actual webhook URL
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ message: input }),
    });

    const data = await response.json();

    // Clearly access your structured JSON response here:
    document.getElementById('response').innerHTML = `
        <strong>âœ… Recommendation:</strong><br>${data.recommendation}<br><br>

        <strong>ğŸš€ Next Steps:</strong>
        <ol>
            ${data.next_steps.map(step => `<li>${step}</li>`).join('')}
        </ol>

        <strong>ğŸ“ Action Plan:</strong>
        <ul>
            <li><strong>Week 1:</strong> ${data.action_plan.week_1}</li>
            <li><strong>Week 2:</strong> ${data.action_plan.week_2}</li>
            <li><strong>Week 3:</strong> ${data.action_plan.week_3}</li>
        </ul>

        <strong>ğŸ“¦ Related Products/Services:</strong>
        <ul>
            ${data.related_products_services.map(item => `<li>${item}</li>`).join('')}
        </ul>

        <strong>ğŸ¢ Targeted Sectors:</strong>
        <ul>
            ${data.sectors_targeted.map(sector => `<li>${sector}</li>`).join('')}
        </ul>

        <strong>ğŸ“ˆ Expected ROI:</strong><br>${data.expected_ROI}
    `;
}
</script>
